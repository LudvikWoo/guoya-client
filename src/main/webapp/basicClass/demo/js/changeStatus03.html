<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN">
<html>
<head>
<title>刷新界面Demo</title>

<meta http-equiv="keywords" content="keyword1,keyword2,keyword3">
<meta http-equiv="description" content="this is my page">
<meta charset="UTF-8">

<script type="text/javascript">
	function changeStatus(sno) {
		alert(sno);
		//document是内置对象，一个界面一个document，相当于selenium里面的driver
		//document是内置的变量，不需要定义

		//document的作用，是操作整个界面的元素，可以对元素做增删改成
		var img = document.getElementById(sno + "_status_img_id");

		//alert("id="+img.id);
		//alert("src="+img.src);

		//如何获取属性值
		var src = img.src;

		//判断字符串中是否包含特定内容，字符串自带indexOf，如果包含>=0，如果不包含=-1
		if (src.indexOf("cross.jpg") == -1) {
			//修改界面元素的内容，赋值给元素的属性
			img.src = "../../images/icon/cross.jpg";
		} else {
			img.src = "../../images/icon/tick.jpg";
		}
	}
	
	var index=1001;
	function generateCode(){
		var demo=document.getElementById("demo");
		var item=demo.innerHTML;
		alert(item);
		alert(item.replace("{sno}","S"+index));
		alert(item.replace(/{sno}/g,"S"+index));
		
		var main_div=document.getElementById("main_div");
		main_div.innerHTML+=item.replace(/{sno}/g,"S"+index);
		index=index+1;
	}
</script>
</head>

<body>
	<div>
		<input type="button" value="自动添加代码" onclick="generateCode()">
	</div>
	
	<div id="main_div">
	</div>
	
	
	<div id="demo" style="display:none">
		<img id="{sno}_status_img_id" alt="" src="../../images/icon/cross.jpg"
			onclick="changeStatus('{sno}')"> <br>
	</div>
</body>

</html>